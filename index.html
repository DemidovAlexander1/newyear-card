<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;width:100%;height:100%;
  overflow:hidden;
  font-family:'Segoe UI',sans-serif;
  background:black;color:white;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
body{
  background:
    linear-gradient(rgba(5,10,30,.75),rgba(5,10,30,.95)),
    url("bg.jpg") center/cover no-repeat fixed;
}

#snow{position:fixed;inset:0;pointer-events:none;z-index:3;}
#tg{position:fixed;left:12px;bottom:10px;font-size:12px;opacity:.35;z-index:5;}

#start{
  position:fixed;inset:0;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  gap:22px;
  z-index:100;
  background:inherit;
  touch-action: manipulation;
}
#browserNote{
  max-width:340px;
  padding:16px 18px;
  font-size:13px;
  line-height:1.5;
  text-align:center;
  background:rgba(0,0,0,.35);
  border-radius:18px;
  backdrop-filter:blur(6px);
}
#start button{
  padding:18px 36px;
  font-size:22px;
  border:none;border-radius:40px;
  background:radial-gradient(circle,#00eaff,#0077ff);
  box-shadow:0 0 40px #00eaff;
  cursor:pointer;
  touch-action: manipulation;
  -webkit-appearance: none;
}

.scene{height:100%;display:flex;justify-content:center;align-items:center;}
.card{
  width:min(92vw,760px);
  height:min(58vw,420px);
  position:relative;
  transform-style:preserve-3d;
  transition:transform 2s ease,opacity 1.5s;
}
.side{
  position:absolute;inset:0;
  border-radius:28px;
  backface-visibility:hidden;
  padding:22px;
  background:linear-gradient(135deg,rgba(0,40,80,.9),rgba(0,20,50,.9));
  box-shadow:0 0 60px rgba(255,255,255,.35);
  display:flex;flex-direction:column;
}
.back{transform:rotateY(180deg);}

.text{
  flex:1;
  background:rgba(0,0,0,.45);
  border-radius:20px;
  padding:18px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center;
}
.text h1{margin:0 0 10px;font-size:clamp(26px,6vw,38px);}
.text p{margin:0;font-size:clamp(15px,4vw,19px);line-height:1.55;}

.garland{display:flex;justify-content:space-around;margin-bottom:12px;}
.garland span{
  width:10px;height:10px;border-radius:50%;
  background:hsl(calc(var(--i)*20),100%,60%);
  animation:blink 2.5s infinite alternate;
}
@keyframes blink{to{opacity:.3;}}

#dark{position:fixed;inset:0;background:black;opacity:0;transition:opacity 3s;z-index:20;}
#finalText{
  position:fixed;inset:0;
  display:flex;justify-content:center;align-items:center;
  text-align:center;
  font-size:clamp(30px,7vw,64px);
  opacity:0;transition:opacity 2s;
  z-index:22;
}

#whiteFlash{
  position:fixed;inset:0;
  background:white;
  opacity:0;
  z-index:30;
  pointer-events:none;
}

#cat{
  position:fixed;inset:0;
  width:100%;height:100%;
  object-fit:cover;
  opacity:0;
  z-index:35;
  pointer-events:none;
  -webkit-transform: translateZ(0);
}

#videoFade{
  position:fixed;inset:0;
  background:black;
  opacity:0;
  z-index:36;
  pointer-events:none;
  transition:opacity 0.5s linear;
}

#qr{
  position:fixed;inset:0;
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  opacity:0;
  z-index:50;
}
#qr img{width:220px;margin-bottom:14px;}
#qr a{color:#8fefff;text-decoration:none;margin-bottom:18px;}
#qr p{max-width:90%;font-size:17px;line-height:1.55;}

#fireworks{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:55;
}

#restart{
  position:fixed;
  right:20px;bottom:20px;
  padding:10px 18px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  opacity:0;
  background:rgba(255,255,255,.75);
  z-index:60;
  -webkit-appearance: none;
}

/* –°–∫—Ä—ã—Ç—ã–π –≤–∏–¥–µ–æ-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
#videoHelper {
  position: fixed;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
  z-index: -1;
}
</style>
</head>

<body>

<canvas id="snow"></canvas>
<canvas id="fireworks"></canvas>
<div id="tg">@Demidovvv124</div>

<div id="start">
  <div id="browserNote">
    ‚ÑπÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:<br>
    <b>Safari (iOS)</b>, <b>Google Chrome</b><br><br>
    ‚ö†Ô∏è –Ø–Ω–¥–µ–∫—Å.–ë—Ä–∞—É–∑–µ—Ä –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å–æ –∑–≤—É–∫–æ–º
  </div>
  <button id="startBtn">‚ñ∂ –û—Ç–∫—Ä—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–∫—É</button>
</div>

<div class="scene">
  <div class="card" id="card">
    <div class="side front" id="front"></div>
    <div class="side back" id="back"></div>
  </div>
</div>

<div id="dark"></div>
<div id="finalText">‚ú® –° –ù–û–í–´–ú 2026 –ì–û–î–û–ú ‚ú®</div>
<div id="whiteFlash"></div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–µ –≤–∏–¥–µ–æ - —Å–∫—Ä—ã—Ç–æ–µ –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ -->
<video 
  id="cat" 
  preload="auto" 
  playsinline 
  webkit-playsinline
  muted
  loop
></video>

<!-- –°–∫—Ä—ã—Ç—ã–π –≤–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ -->
<video 
  id="videoHelper" 
  playsinline 
  webkit-playsinline
></video>

<div id="videoFade"></div>

<div id="qr">
  <img src="qr.png" alt="QR –∫–æ–¥">
  <a href="https://t.me/Byte_squade">https://t.me/Byte_squade</a>
  <p>
    –í –Ω–æ–≤–æ–º –≥–æ–¥—É –ø—É—Å—Ç—å –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –∂–∏–≤—ã—Ö –≤—Å—Ç—Ä–µ—á,<br>
    –∏—Å–∫—Ä–µ–Ω–Ω–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –∏ —Ç—ë–ø–ª—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤.<br><br>
    –ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –ª—é–¥–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ª–µ–≥–∫–æ –±—ã—Ç—å —Å–æ–±–æ–π ü§ç
  </p>
</div>

<button id="restart" onclick="location.reload()">‚Ü∫ —Å–Ω–∞—á–∞–ª–∞</button>

<audio id="music" src="zitronsound-christmas-village.mp3"></audio>

<script>
/* ---------- –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –£–°–¢–†–û–ô–°–¢–í–ê ---------- */
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
let userInteracted = false;

/* ---------- SNOW ---------- */
const snow=document.getElementById("snow"),ctx=snow.getContext("2d");
let W,H;
function resize(){W=snow.width=innerWidth;H=snow.height=innerHeight;}
resize();addEventListener("resize",resize);
const flakes=[...Array(140)].map(()=>({
  x:Math.random()*W,y:Math.random()*H,
  r:Math.random()*2+.5,
  v:Math.random()*.8+.3,
  o:Math.random()*.6+.3
}));
(function draw(){
  ctx.clearRect(0,0,W,H);
  for(const f of flakes){
    ctx.fillStyle=`rgba(255,255,255,${f.o})`;
    ctx.beginPath();ctx.arc(f.x,f.y,f.r,0,Math.PI*2);ctx.fill();
    f.y+=f.v;if(f.y>H){f.y=-10;f.x=Math.random()*W;}
  }
  requestAnimationFrame(draw);
})();

/* ---------- HEART BALLOONS ---------- */
const fw=document.getElementById("fireworks");
const fctx=fw.getContext("2d");
fw.width=innerWidth;fw.height=innerHeight;
addEventListener("resize",()=>{fw.width=innerWidth;fw.height=innerHeight;});

let hearts=[];
function spawnHeart(){
  hearts.push({
    x:Math.random()*fw.width,
    y:fw.height+10,
    vy:Math.random()*0.6+0.4,
    sway:Math.random()*2,
    phase:Math.random()*Math.PI*2,
    a:1,
    c:`hsl(${Math.random()*360},100%,65%)`
  });
}

function drawHeart(x,y,size){
  fctx.beginPath();
  fctx.moveTo(x,y);
  fctx.bezierCurveTo(x-size,y-size,x-size*2,y+size,x,y+size*2);
  fctx.bezierCurveTo(x+size*2,y+size,x+size,y-size,x,y);
  fctx.fill();
}

(function drawHearts(){
  fctx.clearRect(0,0,fw.width,fw.height);
  hearts.forEach(h=>{
    h.y-=h.vy;
    h.phase+=0.03;
    h.x+=Math.sin(h.phase)*0.3;
    h.a-=0.0015;
    fctx.globalAlpha=h.a;
    fctx.fillStyle=h.c;
    drawHeart(h.x,h.y,6);
  });
  hearts=hearts.filter(h=>h.a>0 && h.y>-20);
  requestAnimationFrame(drawHearts);
})();

/* ---------- –ê–£–î–ò–û –ò –í–ò–î–ï–û ---------- */
const music = document.getElementById("music");
const cat = document.getElementById("cat");
const videoHelper = document.getElementById("videoHelper");
const whiteFlash = document.getElementById("whiteFlash");
const videoFade = document.getElementById("videoFade");

let audioCtx, flashBuffer;
let videoPreloaded = false;

// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
function preloadVideo() {
  return new Promise((resolve) => {
    if (videoPreloaded) {
      resolve(true);
      return;
    }
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–∏–¥–µ–æ
    cat.src = "cat.mp4";
    
    cat.addEventListener('loadeddata', () => {
      console.log("Video preloaded");
      videoPreloaded = true;
      resolve(true);
    }, { once: true });
    
    cat.addEventListener('error', (e) => {
      console.error("Video preload error:", e);
      resolve(false);
    }, { once: true });
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∏–¥–µ–æ
    cat.load();
  });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ
async function initAudio() {
  try {
    if (!audioCtx) {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
    
    if (audioCtx.state === 'suspended') {
      await audioCtx.resume();
    }
    
    const response = await fetch("flash.mp3");
    flashBuffer = await audioCtx.decodeAudioData(await response.arrayBuffer());
    return true;
  } catch(e) {
    console.error("Audio initialization error:", e);
    return false;
  }
}

// –ó–∞–ø—É—Å–∫ –≤–∏–¥–µ–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
async function playMobileVideo() {
  return new Promise(async (resolve) => {
    console.log("Starting mobile video playback");
    
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π video —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è iOS
    const tempVideo = document.createElement('video');
    tempVideo.playsInline = true;
    tempVideo.webkitPlaysInline = true;
    tempVideo.muted = true; // –ù–∞—á–∏–Ω–∞–µ–º –±–µ–∑ –∑–≤—É–∫–∞
    tempVideo.src = "cat.mp4";
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º)
    tempVideo.style.position = 'fixed';
    tempVideo.style.width = '1px';
    tempVideo.style.height = '1px';
    tempVideo.style.opacity = '0';
    tempVideo.style.pointerEvents = 'none';
    tempVideo.style.zIndex = '-1';
    document.body.appendChild(tempVideo);
    
    // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å muted
    try {
      await tempVideo.play();
      console.log("Mobile video started (muted)");
      
      // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –∏ –ø—Ä–æ–±—É–µ–º –≤–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫
      setTimeout(async () => {
        try {
          tempVideo.muted = false;
          tempVideo.volume = 1;
          console.log("Sound unmuted");
          resolve(true);
        } catch(e) {
          console.log("Could not unmute, continuing without sound");
          resolve(true); // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –±–µ–∑ –∑–≤—É–∫–∞
        }
      }, 100);
      
    } catch(e) {
      console.error("Mobile video play failed:", e);
      
      // Fallback: –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç
      try {
        cat.muted = false;
        cat.volume = 1;
        await cat.play();
        resolve(true);
      } catch(e2) {
        console.error("Fallback also failed:", e2);
        resolve(false);
      }
    }
  });
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ
async function playVideo() {
  console.log("playVideo called, isMobile:", isMobile);
  
  if (isMobile) {
    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
    const success = await playMobileVideo();
    if (!success) {
      console.log("Using fallback video playback");
      // –ü—Ä–æ–±—É–µ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ –±–µ–∑ –∑–≤—É–∫–∞
      cat.muted = true;
      cat.style.opacity = 1;
      cat.play().catch(e => console.error("Fallback video error:", e));
    }
  } else {
    // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –æ–±—ã—á–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    cat.muted = false;
    cat.volume = 1;
    cat.style.opacity = 1;
    
    try {
      await cat.play();
      console.log("Desktop video started successfully");
    } catch(e) {
      console.error("Desktop video error:", e);
      // –ü—Ä–æ–±—É–µ–º —Å muted
      cat.muted = true;
      await cat.play();
    }
  }
  
  // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–ª–∞–≤–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
  setupVideoFade();
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–≤–Ω–æ–≥–æ –∑–∞—Ç—É—Ö–∞–Ω–∏—è –≤–∏–¥–µ–æ
function setupVideoFade() {
  let fadeStarted = false;
  
  function checkFade() {
    if (!cat.duration || fadeStarted || cat.paused) return;
    
    const timeLeft = cat.duration - cat.currentTime;
    
    if (timeLeft <= 10) {
      fadeStarted = true;
      
      const fadeStartTime = cat.currentTime;
      const totalFadeTime = 10;
      
      function fadeVideo() {
        if (!cat.duration || cat.paused) return;
        
        const currentTime = cat.currentTime;
        const elapsed = currentTime - fadeStartTime;
        const fadeProgress = Math.min(elapsed / totalFadeTime, 1);
        
        videoFade.style.opacity = fadeProgress;
        cat.volume = Math.max(0, 1 - fadeProgress);
        
        if (fadeProgress < 1) {
          requestAnimationFrame(fadeVideo);
        }
      }
      
      requestAnimationFrame(fadeVideo);
    }
  }
  
  const fadeCheckInterval = setInterval(checkFade, 100);
  
  cat.addEventListener('ended', () => {
    clearInterval(fadeCheckInterval);
    videoFade.style.opacity = 1;
    cat.style.opacity = 0;
    
    setTimeout(() => {
      document.getElementById('qr').style.opacity = 1;
      setInterval(spawnHeart, 200);
      setTimeout(() => document.getElementById('restart').style.opacity = 1, 2000);
    }, 500);
  });
}

// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ñ–ª–µ—à-—ç—Ñ—Ñ–µ–∫—Ç–∞
async function playFlash() {
  console.log("playFlash called");
  
  // –ë–µ–ª–∞—è –≤—Å–ø—ã—à–∫–∞
  whiteFlash.style.transition = 'opacity 0.05s ease-out';
  whiteFlash.style.opacity = 1;
  
  setTimeout(() => {
    whiteFlash.style.transition = 'opacity 2s ease-out';
    whiteFlash.style.opacity = 0;
  }, 100);
  
  // –ü—ã—Ç–∞–µ–º—Å—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫ –≤—Å–ø—ã—à–∫–∏
  try {
    const audioEnabled = await initAudio();
    if (audioEnabled && flashBuffer) {
      const source = audioCtx.createBufferSource();
      const gainNode = audioCtx.createGain();
      
      source.buffer = flashBuffer;
      source.connect(gainNode);
      gainNode.connect(audioCtx.destination);
      
      gainNode.gain.value = 0;
      gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
      gainNode.gain.linearRampToValueAtTime(0.8, audioCtx.currentTime + 0.05);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 2.5);
      
      source.start();
    }
  } catch(e) {
    console.log("Flash sound error (non-critical):", e);
  }
  
  // –ó–∞–ø—É—Å–∫–∞–µ–º –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ 500ms
  setTimeout(async () => {
    console.log("Starting video after flash");
    await playVideo();
  }, 500);
}

/* ---------- START ---------- */
startBtn.onclick = async function() {
  console.log("Start button clicked");
  userInteracted = true;
  
  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –≤–∏–¥–µ–æ —Å—Ä–∞–∑—É –ø—Ä–∏ –∫–ª–∏–∫–µ
  await preloadVideo();
  
  // –ó–∞–ø—É—Å–∫–∞–µ–º –º—É–∑—ã–∫—É
  try {
    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –Ω–∞—á–∏–Ω–∞–µ–º —Å muted
    if (isMobile) {
      music.muted = true;
      music.volume = 0;
    }
    
    await music.play();
    
    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –≤–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
    if (isMobile) {
      setTimeout(() => {
        music.muted = false;
        music.volume = 0.7;
      }, 100);
    } else {
      music.volume = 0.7;
    }
    
    console.log("Music started");
    document.getElementById('start').remove();
  } catch(e) {
    console.error("Music error:", e);
    // –ï—Å–ª–∏ –º—É–∑—ã–∫–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å, –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
    document.getElementById('start').remove();
  }
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∂–µ—Å—Ç–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
document.addEventListener('touchstart', function() {
  userInteracted = true;
}, { once: true });

document.addEventListener('click', function() {
  userInteracted = true;
}, { once: true });

/* ---------- CARDS ---------- */
const pages=[
  ["üåü","–ü—É—Å—Ç—å –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É —Å—Ç–∞–Ω–µ—Ç –±–æ–ª—å—à–µ —è—Å–Ω—ã—Ö –¥–Ω–µ–π, —á—Ç–æ –ø—Ä–∏–¥–∞—é—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ."],
  ["üí´","–ü—É—Å—Ç—å –∂–µ–ª–∞–Ω–∏—è –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–æ–≤—Ä–µ–º—è, –∞ —Ä–µ—à–µ–Ω–∏—è –¥–∞—é—Ç—Å—è –ª–µ–≥—á–µ, —á–µ–º —Ä–∞–Ω—å—à–µ."],
  ["ü§ç","–ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –ª—é–¥–∏,<br>—Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–æ–±–æ–π ‚Äî –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–≤."],
  ["‚ú®","–ò –ø—É—Å—Ç—å 2026 –≥–æ–¥ –∑–∞–ø–æ–º–Ω–∏—Ç—Å—è —Ç–µ–ø–ª–æ–º,<br>–∏—Å–∫—Ä–µ–Ω–Ω–∏–º–∏ –≤—Å—Ç—Ä–µ—á–∞–º–∏ –∏ –¥–æ–±—Ä—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏."]
];

let i=0,flip=false;
function fill(el,[a,b]){
  el.innerHTML=`<div class="garland">${[...Array(18)].map((_,n)=>`<span style="--i:${n}"></span>`).join("")}</div><div class="text"><h1>${a}</h1><p>${b}</p></div>`;
}
fill(front,pages[0]);

const timer=setInterval(()=>{
  i++;
  if(i>=pages.length){clearInterval(timer);setTimeout(endCards,3000);return;}
  fill(flip?front:back,pages[i]);
  card.style.transform=flip?"rotateY(0)":"rotateY(180deg)";
  flip=!flip;
},7000);

/* ---------- FINAL ---------- */
function endCards(){
  console.log("endCards called");
  dark.style.opacity=1;
  setTimeout(()=>finalText.style.opacity=1,1500);

  setTimeout(()=>{
    finalText.style.opacity=0;
    music.pause();
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–ª–µ—à–∫—É
    playFlash();
    
  },4000);
}

/* ---------- –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–ï–î–ó–ê–ì–†–£–ó–ö–ê ---------- */
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', async () => {
  console.log("Page loaded, preloading resources");
  
  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –≤–∏–¥–µ–æ (–Ω–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º)
  if (!isMobile) {
    // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ
    cat.src = "cat.mp4";
    cat.load();
  }
  
  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –º—É–∑—ã–∫—É
  music.load();
});
</script>

</body>
</html>

















