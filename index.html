<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;width:100%;height:100%;
  overflow:hidden;
  font-family:'Segoe UI',sans-serif;
  background:black;color:white;
}
body{
  background:
    linear-gradient(rgba(5,10,30,.75),rgba(5,10,30,.95)),
    url("bg.jpg") center/cover no-repeat fixed;
}

#snow{position:fixed;inset:0;pointer-events:none;z-index:3;}
#tg{position:fixed;left:12px;bottom:10px;font-size:12px;opacity:.35;z-index:5;}

#start{
  position:fixed;inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:22px;
  z-index:100;
  background:inherit;
}

#browserNote{
  max-width:340px;
  padding:16px 18px;
  font-size:13px;
  line-height:1.5;
  text-align:center;
  color:#e8f6ff;
  background:rgba(0,0,0,.35);
  border-radius:18px;
  backdrop-filter:blur(6px);
  box-shadow:0 0 30px rgba(0,180,255,.18);
}

#start button{
  padding:18px 36px;
  font-size:22px;
  border:none;
  border-radius:40px;
  background:radial-gradient(circle,#00eaff,#0077ff);
  box-shadow:0 0 40px #00eaff;
  cursor:pointer;
}

.scene{height:100%;display:flex;justify-content:center;align-items:center;z-index:10;}
.card{
  width:min(92vw,760px);height:min(58vw,420px);
  position:relative;
  transform-style:preserve-3d;
  transition:transform 2s ease,opacity 1.5s;
}
.side{
  position:absolute;inset:0;
  border-radius:28px;
  backface-visibility:hidden;
  padding:22px;
  background:linear-gradient(135deg,rgba(0,40,80,.9),rgba(0,20,50,.9));
  box-shadow:0 0 60px rgba(255,255,255,.35);
  display:flex;
  flex-direction:column;
}
.back{transform:rotateY(180deg);}

.text{
  flex:1;
  background:rgba(0,0,0,.45);
  border-radius:20px;
  padding:18px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center;
}
.text h1{margin:0 0 10px;font-size:clamp(26px,6vw,38px);}
.text p{margin:0;font-size:clamp(15px,4vw,19px);line-height:1.55;}

.garland{display:flex;justify-content:space-around;margin-bottom:12px;}
.garland span{
  width:10px;height:10px;border-radius:50%;
  background:hsl(calc(var(--i)*20),100%,60%);
  animation:blink 2.5s infinite alternate;
}
@keyframes blink{to{opacity:.3;}}

#dark{position:fixed;inset:0;background:black;opacity:0;transition:opacity 3s;z-index:20;}
#finalText{
  position:fixed;inset:0;
  display:flex;justify-content:center;align-items:center;
  text-align:center;
  font-size:clamp(30px,7vw,64px);
  opacity:0;transition:opacity 2s;
  z-index:22;
  text-shadow:0 0 70px gold;
}

#white{
  position:fixed;inset:0;
  background:white;
  opacity:0;
  transition:opacity 2s linear;
  z-index:30;
  pointer-events:none;
}

#cat{
  position:fixed;inset:0;
  width:100%;height:100%;
  object-fit:cover;
  opacity:0;
  transition:opacity 3s ease;
  z-index:35;
}

#videoFade{
  position:fixed;inset:0;
  background:black;
  opacity:0;
  transition:opacity 10s linear;
  pointer-events:none;
  z-index:40;
}

#qr{
  position:fixed;inset:0;
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  opacity:0;
  transition:opacity 3s;
  z-index:50;
}
#qr img{width:220px;margin-bottom:14px;}
#qr a{color:#8fefff;text-decoration:none;margin-bottom:18px;}
#qr p{max-width:90%;font-size:clamp(14px,4vw,18px);line-height:1.55;}

#restart{
  position:fixed;
  right:20px;
  bottom:20px;
  padding:10px 18px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  opacity:0;
  background:rgba(255,255,255,.75);
  transition:opacity 1s;
  z-index:60;
}
</style>
</head>

<body>

<canvas id="snow"></canvas>
<div id="tg">@Demidovvv124</div>

<div id="start">
  <div id="browserNote">
    ‚ÑπÔ∏è –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Ç–∫—Ä—ã—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å<br>
    <b>Safari (iOS)</b> –∏–ª–∏ <b>Google Chrome</b><br><br>
    ‚ö†Ô∏è <b>–Ø–Ω–¥–µ–∫—Å.–ë—Ä–∞—É–∑–µ—Ä –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</b> ‚Äî –≤ –Ω—ë–º –∑–≤—É–∫–∏ –º–æ–≥—É—Ç
    –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –∏–ª–∏ –Ω–µ –≤–æ–≤—Ä–µ–º—è.
  </div>
  <button id="startBtn">‚ñ∂ –û—Ç–∫—Ä—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–∫—É</button>
</div>

<div class="scene">
  <div class="card" id="card">
    <div class="side front" id="front"></div>
    <div class="side back" id="back"></div>
  </div>
</div>

<div id="dark"></div>
<div id="finalText">‚ú® –° –ù–û–í–´–ú 2026 –ì–û–î–û–ú ‚ú®</div>
<div id="white"></div>

<video id="cat" src="cat.mp4" playsinline muted></video>
<div id="videoFade"></div>

<div id="qr">
  <img src="qr.png">
  <a href="https://t.me/Byte_squade">https://t.me/Byte_squade</a>
  <p>
    –í –Ω–æ–≤–æ–º –≥–æ–¥—É –ø—É—Å—Ç—å –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –∂–∏–≤—ã—Ö –≤—Å—Ç—Ä–µ—á,<br>
    –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –∏ —Ç—ë–ø–ª—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤.<br><br>
    –ë—É–¥—É —Ä–∞–¥, –µ—Å–ª–∏ –º—ã –±—É–¥–µ–º —á–∞—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Ä–µ–º—è –¥—Ä—É–≥ –¥–ª—è –¥—Ä—É–≥–∞ ü§ç
  </p>
</div>

<button id="restart" onclick="location.reload()">‚Ü∫ —Å–Ω–∞—á–∞–ª–∞</button>

<audio id="music" src="zitronsound-christmas-village.mp3"></audio>

<script>
/* ---------- SNOW ---------- */
const snow=document.getElementById("snow"),ctx=snow.getContext("2d");
let W,H;
function resize(){W=snow.width=innerWidth;H=snow.height=innerHeight;}
resize();addEventListener("resize",resize);
const flakes=[...Array(140)].map(()=>({
  x:Math.random()*W,y:Math.random()*H,
  r:Math.random()*2+.5,
  v:Math.random()*.8+.3,
  o:Math.random()*.6+.3
}));
(function draw(){
  ctx.clearRect(0,0,W,H);
  for(const f of flakes){
    ctx.fillStyle=`rgba(255,255,255,${f.o})`;
    ctx.beginPath();ctx.arc(f.x,f.y,f.r,0,Math.PI*2);ctx.fill();
    f.y+=f.v;if(f.y>H){f.y=-10;f.x=Math.random()*W;}
  }
  requestAnimationFrame(draw);
})();

/* ---------- AUDIO CONTEXT (FLASH FIX) ---------- */
let audioCtx, flashBuffer;

async function loadFlash(){
  const res = await fetch("flash.mp3");
  const arr = await res.arrayBuffer();
  flashBuffer = await audioCtx.decodeAudioData(arr);
}

function playFlash(){
  const src = audioCtx.createBufferSource();
  src.buffer = flashBuffer;
  const gain = audioCtx.createGain();
  gain.gain.value = 1;
  src.connect(gain).connect(audioCtx.destination);
  src.start();
  return gain;
}

/* ---------- MEDIA ---------- */
const music=document.getElementById("music");
const cat=document.getElementById("cat");

startBtn.onclick = async () => {
  audioCtx = new (window.AudioContext||window.webkitAudioContext)();
  await audioCtx.resume();
  await loadFlash();

  music.volume=0.7;
  await music.play();

  start.remove();
};

/* ---------- CARDS ---------- */
const pages=[
  ["üåü","–ü—É—Å—Ç—å –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É —Å—Ç–∞–Ω–µ—Ç –±–æ–ª—å—à–µ —è—Å–Ω—ã—Ö –¥–Ω–µ–π, —á—Ç–æ –ø—Ä–∏–¥–∞—é—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ."],
  ["üí´","–ü—É—Å—Ç—å –∂–µ–ª–∞–Ω–∏—è –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–æ–≤—Ä–µ–º—è, –∞ —Ä–µ—à–µ–Ω–∏—è –¥–∞—é—Ç—Å—è –ª–µ–≥—á–µ, —á–µ–º —Ä–∞–Ω—å—à–µ."],
  ["ü§ç","–ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –ª—é–¥–∏,<br>—Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –±—ã—Ç—å —Å–æ–±–æ–π ‚Äî –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–≤."],
  ["‚ú®","–ò –ø—É—Å—Ç—å 2026 –≥–æ–¥ –∑–∞–ø–æ–º–Ω–∏—Ç—Å—è —Ç–µ–ø–ª–æ–º,<br>–∏—Å–∫—Ä–µ–Ω–Ω–∏–º–∏ –≤—Å—Ç—Ä–µ—á–∞–º–∏ –∏ –¥–æ–±—Ä—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏."]
];

let i=0,flip=false;
function fill(el,[a,b]){
  el.innerHTML=`
    <div class="garland">${[...Array(18)].map((_,n)=>`<span style="--i:${n}"></span>`).join("")}</div>
    <div class="text"><h1>${a}</h1><p>${b}</p></div>`;
}
fill(front,pages[0]);

const timer=setInterval(()=>{
  i++;
  if(i>=pages.length){clearInterval(timer);setTimeout(endCards,3000);return;}
  fill(flip?front:back,pages[i]);
  card.style.transform=flip?"rotateY(0)":"rotateY(180deg)";
  flip=!flip;
},7000);

/* ---------- FINAL ---------- */
function endCards(){
  dark.style.opacity=1;
  setTimeout(()=>finalText.style.opacity=1,1500);

  setTimeout(()=>{
    finalText.style.opacity=0;
    music.pause();

    white.style.opacity=1;
    const flashGain = playFlash();

    cat.style.opacity=1;
    cat.play();

    setTimeout(()=>{
      white.style.opacity=0;
      let t=0;
      const fade=setInterval(()=>{
        t+=0.05;
        flashGain.gain.value=Math.max(0,1-t);
        if(t>=1)clearInterval(fade);
      },100);
    },6000);

    let fading=false;
    cat.addEventListener("timeupdate",()=>{
      if(!fading && cat.duration-cat.currentTime<=10){
        fading=true;
        videoFade.style.opacity=1;
      }
    });

    cat.onended=()=>{
      qr.style.opacity=1;
      setTimeout(()=>restart.style.opacity=1,2000);
    };
  },4000);
}
</script>

</body>
</html>



